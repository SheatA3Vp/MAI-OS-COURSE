# Лабораторная работа №4: Динамические библиотеки

## Описание
Реализованы две динамические библиотеки с двумя реализациями функций:
- `gcd`: НОД двух чисел (Евклид vs наивный алгоритм)
- `sort`: Сортировка массива (пузырьковая vs быстрая)

## Программы
- `main1`: Линковка на этапе компиляции с lib1 (Евклид + пузырьковая)
- `main2`: Загрузка библиотек во время исполнения, переключение между lib1 и lib2

## Компиляция
### Библиотеки
```bash
# lib1.dylib (Евклид + пузырьковая сортировка)
gcc -shared -o lib1.dylib library.c -DLIB1

# lib2.dylib (Наивный GCD + быстрая сортировка)
gcc -shared -o lib2.dylib library.c
```

### Программы
```bash
# main1 (линковка с lib1)
gcc main1.c -o main1 -L. -l1

# main2 (динамическая загрузка)
gcc main2.c -o main2 -ldl
```

## Анализ типов использования библиотек
### Линковка на этапе компиляции (main1)
- **Преимущества**: Быстрый запуск, функции доступны сразу, нет overhead на загрузку.
- **Недостатки**: Нельзя переключать реализации без перекомпиляции, зависимость от наличия библиотеки на этапе линковки.

### Загрузка во время исполнения (main2)
- **Преимущества**: Гибкость — можно переключать реализации (команда "0"), загружать разные библиотеки без перекомпиляции.
- **Недостатки**: Overhead на `dlopen`/`dlsym`, проверка ошибок загрузки, потенциально медленнее запуск.

Оба подхода измеряют время выполнения функций с помощью `clock()`.